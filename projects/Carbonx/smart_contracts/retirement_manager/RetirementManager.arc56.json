{
    "name": "RetirementManager",
    "structs": {},
    "methods": [
        {
            "name": "create",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "desc": "Initialise retirement tracking.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "init_asset",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset",
                    "desc": "The $CXT asset to track."
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set the $CXT Asset ID. Creator only.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "retire_credits",
            "args": [
                {
                    "type": "axfer",
                    "name": "axfer_tx",
                    "desc": "The asset transfer from the user to the contract."
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Retire carbon credits permanently.\nRequires an atomic group: 1. Asset Transfer ($CXT) from User to RetirementManager 2. App Call to this method",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_retirement_stats",
            "args": [],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the total retired credits.",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "Manages carbon credit retirements by verifying $CXT ASA transfers.\n\n    Global state:\n        retired_credits  \u2013 credits permanently retired\n        cxt_asset_id    \u2013 the Asset ID of the $CXT token\n    ",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 2,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "retired_credits": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "cmV0aXJlZF9jcmVkaXRz"
                },
                "cxt_asset_id": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "Y3h0X2Fzc2V0X2lk"
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {}
        }
    },
    "bareActions": {
        "create": [],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        182
                    ],
                    "errorMessage": "Amount must be greater than zero"
                },
                {
                    "pc": [
                        129
                    ],
                    "errorMessage": "Asset already initialized"
                },
                {
                    "pc": [
                        178
                    ],
                    "errorMessage": "Incorrect asset ID"
                },
                {
                    "pc": [
                        123
                    ],
                    "errorMessage": "Only creator can init asset"
                },
                {
                    "pc": [
                        169
                    ],
                    "errorMessage": "Transfer must be to contract"
                },
                {
                    "pc": [
                        127,
                        176
                    ],
                    "errorMessage": "check self.cxt_asset_id exists"
                },
                {
                    "pc": [
                        186,
                        196
                    ],
                    "errorMessage": "check self.retired_credits exists"
                },
                {
                    "pc": [
                        116
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        162
                    ],
                    "errorMessage": "transaction type is axfer"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuYXBwcm92YWxfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIGludGNibG9jayAwIDEgNAogICAgYnl0ZWNibG9jayAicmV0aXJlZF9jcmVkaXRzIiAiY3h0X2Fzc2V0X2lkIgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJueiBtYWluX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToxNAogICAgLy8gc2VsZi5yZXRpcmVkX2NyZWRpdHMgPSBHbG9iYWxTdGF0ZShVSW50NjQoMCksIGtleT0icmV0aXJlZF9jcmVkaXRzIikKICAgIGJ5dGVjXzAgLy8gInJldGlyZWRfY3JlZGl0cyIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToxNQogICAgLy8gc2VsZi5jeHRfYXNzZXRfaWQgPSBHbG9iYWxTdGF0ZShVSW50NjQoMCksIGtleT0iY3h0X2Fzc2V0X2lkIikKICAgIGJ5dGVjXzEgLy8gImN4dF9hc3NldF9pZCIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAoKbWFpbl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjUKICAgIC8vIGNsYXNzIFJldGlyZW1lbnRNYW5hZ2VyKEFSQzRDb250cmFjdCk6CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBieiBtYWluX2NyZWF0ZV9Ob09wQDkKICAgIHB1c2hieXRlc3MgMHgzYmI2M2VkNyAweDFiZGEwOGJhIDB4OTBmNWE4ODIgLy8gbWV0aG9kICJpbml0X2Fzc2V0KHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJyZXRpcmVfY3JlZGl0cyhheGZlcil2b2lkIiwgbWV0aG9kICJnZXRfcmV0aXJlbWVudF9zdGF0cygpdWludDY0IgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggaW5pdF9hc3NldCByZXRpcmVfY3JlZGl0cyBnZXRfcmV0aXJlbWVudF9zdGF0cwogICAgZXJyCgptYWluX2NyZWF0ZV9Ob09wQDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjUKICAgIC8vIGNsYXNzIFJldGlyZW1lbnRNYW5hZ2VyKEFSQzRDb250cmFjdCk6CiAgICBwdXNoYnl0ZXMgMHg0YzVjNjFiYSAvLyBtZXRob2QgImNyZWF0ZSgpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZQogICAgZXJyCgoKLy8gY29udHJhY3QuUmV0aXJlbWVudE1hbmFnZXIuY3JlYXRlW3JvdXRpbmddKCkgLT4gdm9pZDoKY3JlYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToyMAogICAgLy8gc2VsZi5yZXRpcmVkX2NyZWRpdHMudmFsdWUgPSBVSW50NjQoMCkKICAgIGJ5dGVjXzAgLy8gInJldGlyZWRfY3JlZGl0cyIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToyMQogICAgLy8gc2VsZi5jeHRfYXNzZXRfaWQudmFsdWUgPSBVSW50NjQoMCkKICAgIGJ5dGVjXzEgLy8gImN4dF9hc3NldF9pZCIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToxNwogICAgLy8gQGFiaW1ldGhvZChjcmVhdGU9InJlcXVpcmUiKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0LlJldGlyZW1lbnRNYW5hZ2VyLmluaXRfYXNzZXRbcm91dGluZ10oKSAtPiB2b2lkOgppbml0X2Fzc2V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToyMwogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTozMAogICAgLy8gYXNzZXJ0IFR4bi5zZW5kZXIgPT0gR2xvYmFsLmNyZWF0b3JfYWRkcmVzcywgIk9ubHkgY3JlYXRvciBjYW4gaW5pdCBhc3NldCIKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIGluaXQgYXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6MzEKICAgIC8vIGFzc2VydCBzZWxmLmN4dF9hc3NldF9pZC52YWx1ZSA9PSAwLCAiQXNzZXQgYWxyZWFkeSBpbml0aWFsaXplZCIKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18xIC8vICJjeHRfYXNzZXRfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuY3h0X2Fzc2V0X2lkIGV4aXN0cwogICAgIQogICAgYXNzZXJ0IC8vIEFzc2V0IGFscmVhZHkgaW5pdGlhbGl6ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6MzIKICAgIC8vIHNlbGYuY3h0X2Fzc2V0X2lkLnZhbHVlID0gYXNzZXQuaWQKICAgIGJ5dGVjXzEgLy8gImN4dF9hc3NldF9pZCIKICAgIGRpZyAxCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTozOC00MgogICAgLy8gaXR4bi5Bc3NldFRyYW5zZmVyKAogICAgLy8gICAgIHhmZXJfYXNzZXQ9YXNzZXQsCiAgICAvLyAgICAgYXNzZXRfcmVjZWl2ZXI9R2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcywKICAgIC8vICAgICBhc3NldF9hbW91bnQ9MCwKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6NDAKICAgIC8vIGFzc2V0X3JlY2VpdmVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTo0MQogICAgLy8gYXNzZXRfYW1vdW50PTAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTozOAogICAgLy8gaXR4bi5Bc3NldFRyYW5zZmVyKAogICAgaW50Y18yIC8vIGF4ZmVyCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6MzgtNDIKICAgIC8vIGl0eG4uQXNzZXRUcmFuc2ZlcigKICAgIC8vICAgICB4ZmVyX2Fzc2V0PWFzc2V0LAogICAgLy8gICAgIGFzc2V0X3JlY2VpdmVyPUdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRfYW1vdW50PTAsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weToyMwogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3QuUmV0aXJlbWVudE1hbmFnZXIucmV0aXJlX2NyZWRpdHNbcm91dGluZ10oKSAtPiB2b2lkOgpyZXRpcmVfY3JlZGl0czoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6NDQKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTo1NQogICAgLy8gYXNzZXJ0IGF4ZmVyX3R4LmFzc2V0X3JlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsICJUcmFuc2ZlciBtdXN0IGJlIHRvIGNvbnRyYWN0IgogICAgZHVwCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBUcmFuc2ZlciBtdXN0IGJlIHRvIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjU2CiAgICAvLyBhc3NlcnQgYXhmZXJfdHgueGZlcl9hc3NldC5pZCA9PSBzZWxmLmN4dF9hc3NldF9pZC52YWx1ZSwgIkluY29ycmVjdCBhc3NldCBJRCIKICAgIGR1cAogICAgZ3R4bnMgWGZlckFzc2V0CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMSAvLyAiY3h0X2Fzc2V0X2lkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmN4dF9hc3NldF9pZCBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gSW5jb3JyZWN0IGFzc2V0IElECiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjU3CiAgICAvLyBhc3NlcnQgYXhmZXJfdHguYXNzZXRfYW1vdW50ID4gMCwgIkFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIgogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIGR1cAogICAgYXNzZXJ0IC8vIEFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjU5LTYwCiAgICAvLyAjIFVwZGF0ZSBnbG9iYWwgdGFsbHkKICAgIC8vIHNlbGYucmV0aXJlZF9jcmVkaXRzLnZhbHVlICs9IGF4ZmVyX3R4LmFzc2V0X2Ftb3VudAogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInJldGlyZWRfY3JlZGl0cyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5yZXRpcmVkX2NyZWRpdHMgZXhpc3RzCiAgICArCiAgICBieXRlY18wIC8vICJyZXRpcmVkX2NyZWRpdHMiCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3JldGlyZW1lbnRfbWFuYWdlci9jb250cmFjdC5weTo0NAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3QuUmV0aXJlbWVudE1hbmFnZXIuZ2V0X3JldGlyZW1lbnRfc3RhdHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRfcmV0aXJlbWVudF9zdGF0czoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9yZXRpcmVtZW50X21hbmFnZXIvY29udHJhY3QucHk6NjUKICAgIC8vIHJldHVybiBzZWxmLnJldGlyZWRfY3JlZGl0cy52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gInJldGlyZWRfY3JlZGl0cyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5yZXRpcmVkX2NyZWRpdHMgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcmV0aXJlbWVudF9tYW5hZ2VyL2NvbnRyYWN0LnB5OjYyCiAgICAvLyBAYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBpdG9iCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4K",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyADAAEEJgIPcmV0aXJlZF9jcmVkaXRzDGN4dF9hc3NldF9pZDEYQAAGKCJnKSJnMRkURDEYQQAdggMEO7Y+1wQb2gi6BJD1qII2GgCOAwAXAEQAbACABExcYbo2GgCOAQABACgiZykiZyNDNhoBSRWBCBJEFzEAMgkSRCIpZUQURClLAWexMgoishKyFLIRJLIQIrIBsyNDMRYjCUk4ECQSREk4FDIKEkRJOBEiKWVEEkQ4EklEIihlRAgoTGcjQyIoZUQWgAQVH3x1TFCwI0M=",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 7,
            "patch": 1
        }
    },
    "events": [],
    "templateVariables": {}
}